:root{
--bg:#0f1729; --panel:#111827; --ink:#1f2937; --text:#e5e7eb; --muted:#9ca3af; --accent:#60a5fa;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu}


.topbar,.bottombar{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:8px 12px;background:var(--panel);position:sticky;z-index:3}
.topbar{top:0} .bottombar{bottom:0;color:var(--muted);font-size:13px}
.topbar .left,.topbar .right{display:flex;gap:8px;align-items:center}
button,select,input[type="color"]{background:#1f2937;border:1px solid #374151;color:var(--text);padding:6px 10px;border-radius:10px}
button:hover{border-color:#4b5563}


.workspace{display:grid;grid-template-columns:280px 1fr;gap:12px;padding:12px;min-height:calc(100vh - 96px)}
.toolbar{background:var(--panel);border:1px solid #1f2937;border-radius:16px;padding:12px;display:flex;flex-direction:column;gap:12px;position:sticky;top:64px;height:fit-content}
.tool-group{display:flex;flex-direction:column;gap:8px}
.tool-group .label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.tool{display:block;width:100%;text-align:left}
.row{display:flex;align-items:center;gap:10px;justify-content:space-between}


.sheet-wrap{position:relative;display:grid;place-items:center;background:#0b1420;border:1px solid #1f2937;border-radius:16px;overflow:auto;padding:12px}
#bg-canvas,#draw-canvas{max-width:100%;max-height:100%;background:#fff;border-radius:8px;box-shadow:0 4px 32px rgba(0,0,0,.35)}
#bg-canvas{position:absolute;inset:auto}
#draw-canvas{position:relative;z-index:1;touch-action:none}


#text-editor{position:absolute;z-index:2;display:none;min-width:120px;min-height:40px;padding:6px 8px;border-radius:8px;border:1px dashed #93c5fd;background:rgba(255,255,255,.9);color:#111;font:16px/1.3 system-ui}


#page-info{font-size:12px;color:var(--muted)}


@media (max-width: 980px){
.workspace{grid-template-columns:1fr}
.toolbar{position:static}
}
---


## 3) `app.js`
```js
// Jednoduchý model dokumentu
const state = {
pages: [], // pole stránek; každá stránka = { background:'plain|ruled|grid', objects:[...layers], history:[], redo:[] }
pageIndex: 0,
tool: 'pen',
color: '#1f2937',
size: 3,
alpha: 1,
isDrawing: false,
currentStroke: null,
zoom: 1,
panX: 0,
panY: 0,
};


// Typy objektů: stroke | text | image


const bgCanvas = document.getElementById('bg-canvas');
const drawCanvas = document.getElementById('draw-canvas');
const ctx = drawCanvas.getContext('2d');
const bgctx = bgCanvas.getContext('2d');


const bgSelect = document.getElementById('bg-select');
const colorEl = document.getElementById('color');
const sizeEl = document.getElementById('size');
const alphaEl = document.getElementById('alpha');
const textEditor = document.getElementById('text-editor');
const pageInfo = document.getElementById('page-info');


const btnNew = document.getElementById('btn-new-page');
const btnPrev = document.getElementById('btn-prev');
const btnNext = document.getElementById('btn-next');
const btnUndo = document.getElementById('btn-undo');
const btnRedo = document.getElementById('btn-redo');
const btnClear = document.getElementById('btn-clear');
const btnSave = document.getElementById('btn-save');
const btnLoad = document.getElementById('btn-load');
const btnExport = document.getElementById('btn-export');
const imgInput = document.getElementById('image-input');


// Inicializace plátna (A4 @ 96 DPI ~ 794x1123, ale zvolíme 1200x1600 pro kvalitu)
const W = 1200, H = 1600;
[bgCanvas.width, bgCanvas.height] = [W, H];
[drawCanvas.width, drawCanvas.height] = [W, H];


function newPage(background='plain'){
const page = {background, objects:[], history:[], redo:[]};
state.pages.push(page);
state.pageIndex = state.pages.length-1;
syncUI();
}
syncUI();
